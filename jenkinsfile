pipeline {
	agent any
	    //def rtMaven = Artifactory.newMavenBuild()
//定义mvn环境
    

	stages {
		stage('Prepare') {
			steps {
			
				echo 'Prepare...'
			}
		}
	    stage('Test') {
			steps {
			
				echo 'Testing...'
			}
		}
		stage('Package'){
			steps {
				echo 'Packaging...'
				sh "/var/jenkins_home/apache-maven-3.6.0/bin/mvn clean package -DskipTests"
			}
		}
		stage('Docker') {
			steps {
				echo 'Testing...'
				sh "docker build -t springboot-demo ./"
			}
		}
		stage('Deploy') {
			steps {
				echo 'Deploying...'
			}
		}
	
	}
}